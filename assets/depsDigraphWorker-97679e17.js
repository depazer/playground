(function(){"use strict";const a={nodes:[],id:-1};self.onmessage=t=>{a.nodes=t.data.nodes,a.id=Math.random(),g(a.id,t.data.rootModule)};function g(t,o){const{nodes:d}=a,i=o===""?void 0:d.find(({name:e})=>e===o),c=[],f=[],u=new Set;i&&p(i);function p(e){u.add(e.name),c.push(e),f.push(...e.dependencies.map(n=>{var s;return{source:e.name,target:n,isDeps:((s=d.find(r=>r.name===n))==null?void 0:s.isDevDependency)??!1}})),e.dependencies.forEach(n=>{!u.has(n)&&p(d.find(s=>s.name===n))})}a.id===t&&self.postMessage({type:0,data:{nodes:i===void 0?d:c,links:i===void 0?d.reduce((e,{name:n,dependencies:s},r,l)=>(e.push(...s.map(m=>{var h;return{source:n,target:m,isDeps:((h=l.find(D=>D.name===m))==null?void 0:h.isDevDependency)??!1}})),e),[]):f}})}})();
